# Candidateé…ä¸‹ãƒšãƒ¼ã‚¸ã®éª¨çµ„ã¿è¡¨ç¤ºå¯¾å¿œ

## ä¿®æ­£å†…å®¹ã®æ¦‚è¦
candidateé…ä¸‹ã®ãƒšãƒ¼ã‚¸ã‚‚ã€companyé…ä¸‹ã¨åŒæ§˜ã«ã€Œèªè¨¼ãƒã‚§ãƒƒã‚¯ â†’ éª¨çµ„ã¿è¡¨ç¤º â†’ ãƒ‡ãƒ¼ã‚¿å–å¾—ã€ã®ä¸€è²«ã—ãŸå‡¦ç†ãƒ‘ã‚¿ãƒ¼ãƒ³ã«çµ±ä¸€ã™ã‚‹ã€‚

å…·ä½“çš„ã«ã¯ä»¥ä¸‹ã®å‡¦ç†ã‚’å„ãƒšãƒ¼ã‚¸ã§å®Ÿè£…ï¼š
1. èªè¨¼ãƒã‚§ãƒƒã‚¯: `requireCandidateAuthForAction()` ã«ã‚ˆã‚‹å€™è£œè€…ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼
2. èªè¨¼å¤±æ•—æ™‚ã®éª¨çµ„ã¿è¡¨ç¤º: èªè¨¼ã‚¨ãƒ©ãƒ¼æ™‚ã«çµ±ä¸€ã•ã‚ŒãŸãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”»é¢ã‚’è¡¨ç¤º
3. ãƒ‡ãƒ¼ã‚¿å–å¾—ã®ä¸¦åˆ—åŒ–: `Promise.all` ã‚’ä½¿ç”¨ã—ãŸåŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿å–å¾—
4. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®çµ±ä¸€: ä¸€è²«ã—ãŸã‚¨ãƒ©ãƒ¼è¡¨ç¤ºãƒ‘ã‚¿ãƒ¼ãƒ³

## å¯¾è±¡ãƒšãƒ¼ã‚¸ä¿®æ­£ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ğŸŸ¢ åŸºæœ¬ãƒšãƒ¼ã‚¸ï¼ˆå„ªå…ˆåº¦: é«˜ï¼‰
- [ ] `/candidate/mypage/page.tsx`
- [ ] `/candidate/message/page.tsx`
- [ ] `/candidate/job/[job_id]/page.tsx`
- [ ] `/candidate/job/favorite/page.tsx`
- [ ] `/candidate/search/setting/page.tsx`
- [ ] `/candidate/task/page.tsx`

### ğŸŸ¡ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¡¨ç¤ºãƒšãƒ¼ã‚¸ï¼ˆå„ªå…ˆåº¦: ä¸­ï¼‰
- [ ] `/candidate/account/profile/page.tsx`
- [ ] `/candidate/account/summary/page.tsx`
- [ ] `/candidate/account/skills/page.tsx`
- [ ] `/candidate/account/education/page.tsx`
- [ ] `/candidate/account/recent-job/page.tsx`
- [ ] `/candidate/account/career-status/page.tsx`
- [ ] `/candidate/account/expectation/page.tsx`
- [ ] `/candidate/account/resume/page.tsx`

### ğŸŸ¡ æ©Ÿèƒ½ãƒšãƒ¼ã‚¸ï¼ˆå„ªå…ˆåº¦: ä¸­ï¼‰
- [ ] `/candidate/company/[company_id]/page.tsx`
- [ ] `/candidate/search/setting/[id]/page.tsx`
- [ ] `/candidate/search/setting/[id]/confirm/page.tsx`

### ğŸŸ  ç·¨é›†ãƒšãƒ¼ã‚¸ï¼ˆå„ªå…ˆåº¦: ä½ï¼‰
- [ ] `/candidate/account/profile/edit/page.tsx`
- [ ] `/candidate/account/summary/edit/page.tsx`
- [ ] `/candidate/account/skills/edit/page.tsx`
- [ ] `/candidate/account/education/edit/page.tsx`
- [ ] `/candidate/account/recent-job/edit/page.tsx`
- [ ] `/candidate/account/career-status/edit/page.tsx`
- [ ] `/candidate/account/expectation/edit/page.tsx`
- [ ] `/candidate/account/resume/rirekisyo-preview/page.tsx`
- [ ] `/candidate/account/resume/shokumu-preview/page.tsx`

### ğŸ”µ è¨­å®šé–¢é€£ãƒšãƒ¼ã‚¸ï¼ˆå„ªå…ˆåº¦: ä½ï¼‰
- [ ] `/candidate/setting/page.tsx`
- [ ] `/candidate/setting/mail/page.tsx`
- [ ] `/candidate/setting/mail/verify/page.tsx`
- [ ] `/candidate/setting/mail/complete/page.tsx`
- [ ] `/candidate/setting/password/page.tsx`
- [ ] `/candidate/setting/password/complete/page.tsx`
- [ ] `/candidate/setting/scout/page.tsx`
- [ ] `/candidate/setting/scout/complete/page.tsx`
- [ ] `/candidate/setting/notification/page.tsx`
- [ ] `/candidate/setting/notification/complete/page.tsx`
- [ ] `/candidate/setting/ng-company/page.tsx`
- [ ] `/candidate/setting/withdrawal/page.tsx`
- [ ] `/candidate/setting/withdrawal/reason/page.tsx`
- [ ] `/candidate/setting/withdrawal/complete/page.tsx`

### ğŸŸ£ ãã®ä»–ãƒšãƒ¼ã‚¸ï¼ˆå„ªå…ˆåº¦: æœ€ä½ï¼‰
- [ ] `/candidate/media/page.tsx`
- [ ] `/candidate/media/[media_id]/page.tsx`
- [ ] `/candidate/news/page.tsx`
- [ ] `/candidate/news/[id]/page.tsx`
- [ ] `/candidate/terms/page.tsx`
- [ ] `/candidate/privacy/page.tsx`
- [ ] `/candidate/laws/page.tsx`
- [ ] `/candidate/page.tsx`

â€» èªè¨¼ä¸è¦ã®ãƒšãƒ¼ã‚¸ï¼ˆ`/candidate/auth/*` ç­‰ï¼‰ã¯æœ¬å¯¾å¿œã®å¯¾è±¡å¤–ã€‚

## å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆCandidateç‰ˆï¼‰

```typescript
export default async function SampleCandidatePage() {
  // 1. å€™è£œè€…ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æƒ…å ±ã‚’å–å¾—
  const { requireCandidateAuthForAction } = await import('@/lib/auth/server');
  const authResult = await requireCandidateAuthForAction();

  if (!authResult.success) {
    // 2. èªè¨¼ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯çµ±ä¸€ã•ã‚ŒãŸéª¨çµ„ã¿ã‚’è¿”ã™
    return (
      <div className='min-h-[60vh] w-full flex flex-col items-center bg-[#F9F9F9] px-4 pt-4 pb-20 md:px-20 md:py-10 md:pb-20'>
        <main className='w-full max-w-[1280px] mx-auto'>
          <p>èªè¨¼ãŒå¿…è¦ã§ã™ã€‚</p>
        </main>
      </div>
    );
  }

  // 3. å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’ä¸¦åˆ—å–å¾—
  const [data1, data2] = await Promise.all([
    getData1(),
    getData2(),
  ]);

  // 4. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã™
  return <ClientComponent data1={data1} data2={data2} />;
}
```

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£ã®åˆå›é€Ÿåº¦æœ€é©åŒ–é …ç›®ï¼ˆCandidateï¼‰

### ğŸš€ ã‚¯ã‚¨ãƒªæœ€é©åŒ–ï¼ˆå„ªå…ˆåº¦: æœ€é«˜ï¼‰
- [ ] ãƒ‡ãƒ¼ã‚¿å–å¾—ã®ä¸¦åˆ—åŒ–: å€™è£œè€…ã‚«ãƒ¼ãƒ‰ç­‰ã®ä»˜éšæƒ…å ±å–å¾—ï¼ˆè·ç¨®/æ¥­ç¨®/é€²æ—ï¼‰ã‚’ `Promise.all` ã«é›†ç´„
- [ ] SELECTå¥ã®æœ€é©åŒ–: å€™è£œè€…ã‚«ãƒ¼ãƒ‰è¡¨ç¤ºã«ä¸è¦ãªé …ç›®ã‚’é™¤å¤–
- [ ] JOINã‚¯ã‚¨ãƒªã®æœ€é©åŒ–: å€™è£œè€…ä¸€è¦§ã«å¿…è¦ãªçµåˆã®ã¿ã‚’å®Ÿè¡Œ
- [ ] é‡è¤‡ãƒ‡ãƒ¼ã‚¿å–å¾—ã®æ’é™¤: å¿œå‹Ÿ/ã‚¹ã‚«ã‚¦ãƒˆã®çµ±åˆå¾Œã«é‡è¤‡å€™è£œè€…ã®æœ€æ–°ã®ã¿æ¡ç”¨

### ğŸ” ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¿½åŠ ï¼ˆå„ªå…ˆåº¦: é«˜ï¼‰
- [ ] `candidates` è¡¨: `last_login_at`, `updated_at` ã®è¤‡åˆ or å˜ç‹¬ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
- [ ] `application` è¡¨: `company_group_id`, `status`, `created_at` ã®è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
- [ ] `scout_sends` è¡¨: `company_group_id`, `status`, `sent_at` ã®è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹

### ğŸ’¾ ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ï¼ˆå„ªå…ˆåº¦: ä¸­ï¼‰
- [ ] èªè¨¼æƒ…å ±ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥: `getCachedCandidateUser`ï¼ˆå¿…è¦ã«å¿œã˜ã¦æ‹¡å¼µï¼‰
- [ ] é™çš„ãƒ‡ãƒ¼ã‚¿ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥: æ¥­ç•Œãƒ»è·ç¨®ãƒ»éƒ½é“åºœçœŒãƒ‡ãƒ¼ã‚¿ã®ã‚µãƒ¼ãƒãƒ¼æ³¨å…¥ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- [ ] å€™è£œè€…ã‚«ãƒ¼ãƒ‰ç”¨ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥: ã‚ˆãä½¿ã†è¾æ›¸ãƒ‡ãƒ¼ã‚¿ã®å…±é€šåŒ–

### âš¡ åˆå›è¡¨ç¤ºã®éª¨çµ„ã¿æœ€é©åŒ–ï¼ˆå„ªå…ˆåº¦: é«˜ï¼‰
- [ ] ã‚¹ã‚±ãƒ«ãƒˆãƒ³ãƒ­ãƒ¼ãƒ€ãƒ¼ã®çµ±ä¸€: å…¨ãƒšãƒ¼ã‚¸ã§ä¸€è²«ã—ãŸãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
- [ ] é‡è¦ãƒ‡ãƒ¼ã‚¿ã®å„ªå…ˆå–å¾—: ç”»é¢è¡¨ç¤ºã«å¿…è¦ãªæœ€å°ãƒ‡ãƒ¼ã‚¿ã‚’å…ˆè¡Œå–å¾—
- [ ] é…å»¶èª­ã¿è¾¼ã¿ã®å®Ÿè£…: åˆå›è¡¨ç¤ºå¾Œã«è©³ç´°ãƒ‡ãƒ¼ã‚¿ã‚’éåŒæœŸå–å¾—
- [ ] ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã®çµ±ä¸€: èªè¨¼ã‚¨ãƒ©ãƒ¼ãƒ»ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼ã®ä¸€è²«ã—ãŸå‡¦ç†

## å‚™è€ƒ
- æ—¢å­˜æ©Ÿèƒ½ã‚’å£Šã•ãªã„ã‚ˆã†æ®µéšçš„ã«é©ç”¨ã™ã‚‹
- å„ãƒšãƒ¼ã‚¸ã®æ—¢å­˜ã®èªè¨¼å‡¦ç†ã¯ä¿æŒã—ã¤ã¤ã€çµ±ä¸€ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åˆã‚ã›ã¦èª¿æ•´
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¿½åŠ å‰ã«ã€ç¾åœ¨ã®ã‚¯ã‚¨ãƒªå®Ÿè¡Œè¨ˆç”»ã‚’ç¢ºèª
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…æ™‚ã¯ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ã‚’æ‹…ä¿
