# candidate 配下リファクタリング診断・設計書（第 1 部：全体構造・評価方針）

---

## 1. はじめに

このドキュメントは、`/src/app/candidate/`配下の Next.js アプリケーションに対し、**保守性・拡張性・型
安全性・UX・テスト容易性の最大化**を目的とした**本気のリファクタリング診断・設計書**です。

- **全ページ・全ロジックを徹底的に精査**
- **カテゴリごと・横断的観点ごとに、具体的なファイル・箇所・理由を厳密に列挙**
- **優先度・推奨戦略・Next.js 最新ベストプラクティスも明記**
- **分量が多いため、複数部に分割して段階的に記述**

---

## 2. 評価観点（リファクタリングの軸）

- **重複排除**（DRY 原則）
- **型安全性・バリデーション一元化**（TypeScript/zod 等）
- **UI/UX 一貫性・アクセシビリティ**
- **責務分離・SOLID 原則**
- **パフォーマンス最適化**
- **テスト容易性・拡張性**
- **Next.js App Router/Server Actions/Partial Rendering 等の最新ベストプラクティス準拠**

---

## 3. 全体構造（カテゴリ分類）

- **プロフィール・学歴・職務要約**
- **キャリア（転職活動状況）・職務経歴・スキル・期待値**
- **求人検索・応募・お気に入り・ダッシュボード**
- **メディア・ニュース・メッセージ・タスク・設定**
- **layout/共通部品/サーバーアクション/横断的観点**

---

## 4. 横断的なリファクタリング観点

- **型定義・バリデーション・CRUD・エラー処理の共通化/一元化**
- **フォーム/編集/保存/初期化/モーダル管理のロジック共通化**
- **UI 部品（Section, FormRow, ActionButton, モーダル等）の props/型/スタイル統一・共通化**
- **サーバーアクションの共通ユーティリティ化**
- **レイアウト/共通部品の責務分離・一貫性強化**
- **カスタムフック化（状態管理/選択肢管理/データ取得/バリデーション等）**
- **ローディング/エラー/フィードバック UI の統一**
- **アクセシビリティ改善**
- **パフォーマンス最適化（メモ化/キャッシュ/遅延ロード等）**
- **テストコードの充実**

---

## 5. 診断・設計書の構成（分割方針）

- **第 1 部：全体構造・評価方針（本ファイル）**
- **第 2 部：カテゴリ別リファクタリング必須箇所（プロフィール・学歴・職務要約）**
- **第 3 部：カテゴリ別リファクタリング必須箇所（キャリア・職務経歴・スキル・期待値）**
- **第 4 部：カテゴリ別リファクタリング必須箇所（求人検索・応募・お気に入り・ダッシュボード）**
- **第 5 部：カテゴリ別リファクタリング必須箇所（メディア・ニュース・メッセージ・タスク・設定）**
- **第 6 部：layout/共通部品/サーバーアクション/横断的観点**
- **第 7 部：優先度・推奨戦略・Next.js 最新ベストプラクティス**
- **第 8 部：まとめ・推進計画例**
